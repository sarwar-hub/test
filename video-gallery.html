<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video gallery</title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
        .bm-video-gallery .gallery-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;

        }

        .bm-video-gallery .video-item {
            position: relative;
            width: 200px !important;
            height: 160px !important;
            border-radius: 10px;
        }

        .bm-video-gallery video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .bm-video-gallery .video-item .play-icon {
            position: absolute;
            height: 100%;
            width: 100%;
            padding: 50px;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
            background-color: #00000080;
            border-radius: 10px;
        }



        /* carousel */
        #bm-video-popup-carousel .item-inner {
            width: max-content;
            margin: auto;
        }

        /* carousel */
    </style>
</head>

<body style="max-width: 900px; margin: auto;">
    <div class="bm-video-gallery">
        <div class="gallery-container">
            <div class="video-item" data-toggle="modal" data-target="#bm-video-gallery">
                <video data-toggle="modal" data-target="#bm-video-gallery" name="media">
                    <source
                        src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                        type="video/mp4">
                </video>
                <svg class="play-icon" width="64px" height="64px" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg" stroke="#ffffff">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M16.6582 9.28638C18.098 10.1862 18.8178 10.6361 19.0647 11.2122C19.2803 11.7152 19.2803 12.2847 19.0647 12.7878C18.8178 13.3638 18.098 13.8137 16.6582 14.7136L9.896 18.94C8.29805 19.9387 7.49907 20.4381 6.83973 20.385C6.26501 20.3388 5.73818 20.0469 5.3944 19.584C5 19.053 5 18.1108 5 16.2264V7.77357C5 5.88919 5 4.94701 5.3944 4.41598C5.73818 3.9531 6.26501 3.66111 6.83973 3.6149C7.49907 3.5619 8.29805 4.06126 9.896 5.05998L16.6582 9.28638Z"
                            stroke="#ffffff" stroke-width="0.9600000000000002" stroke-linejoin="round"></path>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="bm-video-gallery" tabindex="-1" role="dialog" aria-labelledby="bm-video-galleryTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <!-- <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5> -->
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">


                    <!-- slider -->
                    <div id="bm-video-popup-carousel" class="carousel slide" data-ride="carousel">

                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item active">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div class="item">
                                <div class="item-inner">
                                    <video controls name="media">
                                        <source
                                            src="https://lh3.googleusercontent.com/ggs/AF1QipM4yjROycaudj3GFWKwaqfTtv5rj8iW7D_F_Jp9=m18?cpn=MS87TNRcER1Vulfl"
                                            type="video/mp4">
                                    </video>
                                </div>
                            </div>

                        </div>

                        <!-- Left and right controls -->
                        <a class="left carousel-control" href="#bm-video-popup-carousel" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#bm-video-popup-carousel" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <!-- slider -->


                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->





<script>
    // document ready
$(document).ready(function(){
    // Event for pushed the video
    $('#bm-video-popup-carousel').carousel({
        pause: true,
        interval: false
    });

    // touch slide
    $('#bm-video-popup-carousel').on('touchstart', function(event){
        const xClick = event.originalEvent.touches[0].pageX;
        $(this).one('touchmove', function(event){
            const xMove = event.originalEvent.touches[0].pageX;
            const sensitivityInPx = 5;

            if( Math.floor(xClick - xMove) > sensitivityInPx ){
                $(this).carousel('next');
                pauseModalVideo();
            }
            else if( Math.floor(xClick - xMove) < -sensitivityInPx ){
                $(this).carousel('prev');
                pauseModalVideo();
            }
        });
        $(this).on('touchend', function(){
            $(this).off('touchmove');
        });
    });


    // pause video if clicks on close, next, prev
    $('.close, .carousel-control').on('click', function(){
        pauseModalVideo();
    });

    // pause video function
    const pauseModalVideo = () => {
        $("video").each(function () {
            this.pause(); // Pause each video
        });
    };

});
</script>




</body>

</html>